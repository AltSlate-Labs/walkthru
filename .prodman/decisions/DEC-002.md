---
id: "DEC-002"
title: "Video Output Format"
status: accepted
date: "2026-01-17"
decision_makers: []
---

# DEC-002: Video Output Format

## Status

**Accepted** â€” 2026-01-17

## Context

We need to choose a video output format for recordings. The format affects:
- Recording performance
- File size
- Compatibility with video players
- Need for post-processing/transcoding

## Decision Drivers

- Recording performance (no dropped frames)
- Implementation simplicity
- Browser API support
- File size
- Playback compatibility
- MVP timeline constraints

## Considered Options

### Option 1: WebM (VP9)

**Pros:**
- Native MediaRecorder support (no transcoding)
- Good compression ratio
- Supported by modern browsers
- Works immediately with MediaRecorder API
- Lower CPU usage during recording

**Cons:**
- Less universal than MP4
- Some older players don't support it
- Harder to edit in some video tools

### Option 2: MP4 (H.264)

**Pros:**
- Universal compatibility
- Supported by all video players
- Easy to share and edit
- Smaller file sizes with hardware encoding

**Cons:**
- Requires transcoding (FFmpeg)
- Added complexity and dependencies
- Higher CPU usage during recording
- Licensing considerations

### Option 3: MKV (VP9/H.264)

**Pros:**
- Flexible container
- Good for multiple tracks

**Cons:**
- Less common
- Similar transcoding needs as MP4
- Overkill for our use case

## Decision

**WebM (VP9)** is selected for the MVP.

Rationale:
1. Zero transcoding means simpler implementation
2. Direct MediaRecorder output reduces complexity
3. Modern browsers and players support WebM
4. Lower CPU usage during recording = better performance
5. Can add MP4 export as a future feature using FFmpeg WASM

## Consequences

- Recordings won't play in some legacy players
- Simpler codebase without FFmpeg dependency
- Faster recording start (no encoder initialization)
- Future work needed for MP4 export feature
- File sizes may be slightly larger than optimized MP4
